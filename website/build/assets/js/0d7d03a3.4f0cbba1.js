"use strict";(globalThis.webpackChunkknowledgepulse_docs=globalThis.webpackChunkknowledgepulse_docs||[]).push([[89],{1669(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"mcp-server/setup","title":"MCP Server Setup","description":"How to install, configure, and run the KnowledgePulse MCP server in standalone or proxy mode.","source":"@site/docs/mcp-server/setup.md","sourceDirName":"mcp-server","slug":"/mcp-server/setup","permalink":"/docs/mcp-server/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/openclaw/knowledgepulse/tree/main/website/docs/mcp-server/setup.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"MCP Server Setup","description":"How to install, configure, and run the KnowledgePulse MCP server in standalone or proxy mode."},"sidebar":"docsSidebar","previous":{"title":"Rate Limiting","permalink":"/docs/registry/rate-limiting"},"next":{"title":"MCP Tools Reference","permalink":"/docs/mcp-server/tools"}}');var s=r(4848),o=r(8453);const l={sidebar_position:1,title:"MCP Server Setup",description:"How to install, configure, and run the KnowledgePulse MCP server in standalone or proxy mode."},i="MCP Server Setup",d={},c=[{value:"Transport",id:"transport",level:2},{value:"Dual-Mode Operation",id:"dual-mode-operation",level:2},{value:"Standalone Mode (default)",id:"standalone-mode-default",level:3},{value:"Proxy Mode",id:"proxy-mode",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Integration with AI Frameworks",id:"integration-with-ai-frameworks",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"mcp-server-setup",children:"MCP Server Setup"})}),"\n",(0,s.jsxs)(n.p,{children:["The KnowledgePulse MCP server (",(0,s.jsx)(n.code,{children:"@knowledgepulse/mcp"})," v1.1.0) exposes the KnowledgePulse protocol as a set of ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/",children:"Model Context Protocol"})," tools that any MCP-compatible AI client can call."]}),"\n",(0,s.jsx)(n.h2,{id:"transport",children:"Transport"}),"\n",(0,s.jsxs)(n.p,{children:["The server uses ",(0,s.jsx)(n.strong,{children:"Streamable HTTP"})," transport:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Endpoint"}),(0,s.jsx)(n.th,{children:"Method"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/mcp"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POST"})}),(0,s.jsx)(n.td,{children:"MCP tool invocation (Streamable HTTP)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/health"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GET"})}),(0,s.jsx)(n.td,{children:"Health check"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"A successful health check returns:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "ok",\n  "name": "knowledgepulse-mcp",\n  "version": "1.1.0"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"dual-mode-operation",children:"Dual-Mode Operation"}),"\n",(0,s.jsxs)(n.p,{children:["The MCP server can run in two modes depending on whether the ",(0,s.jsx)(n.code,{children:"KP_REGISTRY_URL"})," environment variable is set."]}),"\n",(0,s.jsx)(n.h3,{id:"standalone-mode-default",children:"Standalone Mode (default)"}),"\n",(0,s.jsx)(n.p,{children:"In standalone mode the server uses its own in-memory stores. This is the simplest way to get started and is well-suited for local development and testing."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"bun run packages/mcp-server/src/index.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:"The server starts on port 3001 by default. No external services are required."}),"\n",(0,s.jsx)(n.h3,{id:"proxy-mode",children:"Proxy Mode"}),"\n",(0,s.jsxs)(n.p,{children:["In proxy mode the server forwards all requests to a running KnowledgePulse registry instance. Set ",(0,s.jsx)(n.code,{children:"KP_REGISTRY_URL"})," to enable proxy mode, and optionally provide ",(0,s.jsx)(n.code,{children:"KP_API_KEY"})," for authenticated endpoints."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"KP_REGISTRY_URL=http://localhost:8080 KP_API_KEY=kp_abc123 \\\n  bun run packages/mcp-server/src/index.ts\n"})}),"\n",(0,s.jsx)(n.p,{children:"In this mode the MCP server acts as a thin bridge: it translates MCP tool calls into registry REST API requests and returns the results to the client."}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Default"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"KP_MCP_PORT"})}),(0,s.jsx)(n.td,{children:"Port the MCP server listens on"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"3001"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"KP_REGISTRY_URL"})}),(0,s.jsx)(n.td,{children:"Registry URL for proxy mode. When unset the server runs in standalone mode."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"(unset)"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"KP_API_KEY"})}),(0,s.jsx)(n.td,{children:"API key sent with authenticated requests to the registry in proxy mode."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"(unset)"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-ai-frameworks",children:"Integration with AI Frameworks"}),"\n",(0,s.jsx)(n.p,{children:"The MCP server works with any MCP-compatible client over Streamable HTTP transport. Examples include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Claude Desktop"})," -- add the server URL to your MCP configuration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LangGraph"})," -- use the MCP tool adapter to connect to the server."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CrewAI"})," -- register the server as an MCP tool provider."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AutoGen"})," -- connect agents to the server via the MCP client SDK."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Point your client at ",(0,s.jsx)(n.code,{children:"http://localhost:3001/mcp"})," (or whichever host and port you configured) and the six KnowledgePulse tools will be available for your agents to call. See ",(0,s.jsx)(n.a,{href:"/docs/mcp-server/tools",children:"MCP Tools"})," for a full reference."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>i});var t=r(6540);const s={},o=t.createContext(s);function l(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);