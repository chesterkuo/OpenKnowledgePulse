"use strict";(globalThis.webpackChunkknowledgepulse_docs=globalThis.webpackChunkknowledgepulse_docs||[]).push([[418],{128(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"contributing/guidelines","title":"Contributing Guidelines","description":"Code style, testing conventions, and PR process for contributing to KnowledgePulse.","source":"@site/docs/contributing/guidelines.md","sourceDirName":"contributing","slug":"/contributing/guidelines","permalink":"/docs/contributing/guidelines","draft":false,"unlisted":false,"editUrl":"https://github.com/openclaw/knowledgepulse/tree/main/website/docs/contributing/guidelines.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Contributing Guidelines","description":"Code style, testing conventions, and PR process for contributing to KnowledgePulse."},"sidebar":"docsSidebar","previous":{"title":"Development Setup","permalink":"/docs/contributing/development"}}');var t=s(4848),r=s(8453);const l={sidebar_position:2,title:"Contributing Guidelines",description:"Code style, testing conventions, and PR process for contributing to KnowledgePulse."},d="Contributing Guidelines",o={},c=[{value:"Code Style",id:"code-style",level:2},{value:"Testing",id:"testing",level:2},{value:"Build Notes",id:"build-notes",level:2},{value:"Pull Request Process",id:"pull-request-process",level:2},{value:"Commit Messages",id:"commit-messages",level:2},{value:"Licensing",id:"licensing",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"contributing-guidelines",children:"Contributing Guidelines"})}),"\n",(0,t.jsx)(n.p,{children:"Thank you for your interest in contributing to KnowledgePulse. This document covers the code style, testing expectations, and pull request process for the project."}),"\n",(0,t.jsx)(n.h2,{id:"code-style",children:"Code Style"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Formatter and linter:"})," ",(0,t.jsx)(n.a,{href:"https://biomejs.dev/",children:"Biome"})," handles both formatting and linting. Run ",(0,t.jsx)(n.code,{children:"bun run lint"})," before submitting a PR."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TypeScript:"})," Strict mode is enabled across all packages. Use ",(0,t.jsx)(n.a,{href:"https://zod.dev/",children:"Zod"})," v3 for runtime validation of external inputs."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Imports:"})," Prefer explicit named imports. Avoid wildcard (",(0,t.jsx)(n.code,{children:"*"}),") imports."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Framework:"})," ",(0,t.jsx)(n.code,{children:"bun:test"})," (built into Bun)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File placement:"})," Co-locate tests with the source file they exercise. Test files use the ",(0,t.jsx)(n.code,{children:"*.test.ts"})," suffix."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Run the suite:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun test --recursive\n"})}),"\n",(0,t.jsx)(n.p,{children:"The full suite currently contains 319 tests across 15 files. All tests must pass before a PR can be merged."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Schema changes:"})," Any change to Zod schemas or the KnowledgeUnit structure must include:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.strong,{children:"migration function"})," that converts data from the previous schema version."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Round-trip tests"})," proving that data survives serialization, migration, and deserialization without loss."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"build-notes",children:"Build Notes"}),"\n",(0,t.jsxs)(n.p,{children:["The SDK is built with ",(0,t.jsx)(n.strong,{children:"tsup"})," and emits ESM, CJS, and TypeScript declaration (",(0,t.jsx)(n.code,{children:".d.ts"}),") files. The SDK ",(0,t.jsx)(n.code,{children:"tsconfig.json"})," sets ",(0,t.jsx)(n.code,{children:'"types": []'})," intentionally -- this avoids a conflict between ",(0,t.jsx)(n.code,{children:"bun-types"})," and tsup's DTS generation plugin. Do not remove this setting."]}),"\n",(0,t.jsx)(n.h2,{id:"pull-request-process",children:"Pull Request Process"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Fork"})," the repository and create a feature branch from ",(0,t.jsx)(n.code,{children:"main"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Implement"})," your changes, following the code style guidelines above."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Write or update tests"})," covering your changes."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Run the full test suite"})," and confirm all tests pass:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun test --recursive\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lint"})," your code:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun run lint\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Submit a pull request"})," against ",(0,t.jsx)(n.code,{children:"main"})," with a clear description of the change and its motivation."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"commit-messages",children:"Commit Messages"}),"\n",(0,t.jsxs)(n.p,{children:["Follow the ",(0,t.jsx)(n.a,{href:"https://www.conventionalcommits.org/",children:"Conventional Commits"})," style:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"<type>(<scope>): <short summary>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Common types:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"When to use"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"feat"})}),(0,t.jsx)(n.td,{children:"A new feature or capability."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"fix"})}),(0,t.jsx)(n.td,{children:"A bug fix."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"docs"})}),(0,t.jsx)(n.td,{children:"Documentation-only changes."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"refactor"})}),(0,t.jsx)(n.td,{children:"Code restructuring with no behavior change."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"test"})}),(0,t.jsx)(n.td,{children:"Adding or updating tests."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"chore"})}),(0,t.jsx)(n.td,{children:"Build config, CI, or tooling changes."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"Examples:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"feat(sdk): add vector similarity caching\nfix(mcp-server): handle missing API key in proxy mode\ntest(cli): add integration tests for kp search\n"})}),"\n",(0,t.jsx)(n.h2,{id:"licensing",children:"Licensing"}),"\n",(0,t.jsxs)(n.p,{children:["All contributions are licensed under ",(0,t.jsx)(n.a,{href:"https://www.apache.org/licenses/LICENSE-2.0",children:"Apache 2.0"}),", consistent with the rest of the project."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>d});var i=s(6540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);