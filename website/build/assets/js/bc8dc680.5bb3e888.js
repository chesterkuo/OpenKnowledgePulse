"use strict";(globalThis.webpackChunkknowledgepulse_docs=globalThis.webpackChunkknowledgepulse_docs||[]).push([[345],{7436(e,n,d){d.r(n),d.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"sdk/skill-md","title":"SKILL.md","description":"Parse, generate, and validate SKILL.md files with KnowledgePulse extensions.","source":"@site/docs/sdk/skill-md.md","sourceDirName":"sdk","slug":"/sdk/skill-md","permalink":"/docs/sdk/skill-md","draft":false,"unlisted":false,"editUrl":"https://github.com/openclaw/knowledgepulse/tree/main/website/docs/sdk/skill-md.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"SKILL.md","description":"Parse, generate, and validate SKILL.md files with KnowledgePulse extensions."},"sidebar":"docsSidebar","previous":{"title":"Types","permalink":"/docs/sdk/types"},"next":{"title":"Scoring","permalink":"/docs/sdk/scoring"}}');var s=d(4848),i=d(8453);const t={sidebar_position:3,title:"SKILL.md",description:"Parse, generate, and validate SKILL.md files with KnowledgePulse extensions."},l="SKILL.md",c={},o=[{value:"Functions",id:"functions",level:2},{value:"<code>parseSkillMd(content)</code>",id:"parseskillmdcontent",level:3},{value:"<code>generateSkillMd(frontmatter, body, kp?)</code>",id:"generateskillmdfrontmatter-body-kp",level:3},{value:"<code>validateSkillMd(content)</code>",id:"validateskillmdcontent",level:3},{value:"SKILL.md Format",id:"skillmd-format",level:2},{value:"Standard Frontmatter Fields",id:"standard-frontmatter-fields",level:3},{value:"KnowledgePulse Extension (<code>kp:</code>)",id:"knowledgepulse-extension-kp",level:3},{value:"Backward Compatibility",id:"backward-compatibility",level:2},{value:"Error Handling",id:"error-handling",level:2}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"skillmd",children:"SKILL.md"})}),"\n",(0,s.jsxs)(n.p,{children:["SKILL.md is a standard file format that describes an agent skill using YAML frontmatter and a Markdown body. The KnowledgePulse SDK adds an optional ",(0,s.jsx)(n.code,{children:"kp:"})," extension block to the frontmatter, enabling knowledge capture configuration while remaining fully backward-compatible with non-KP tools."]}),"\n",(0,s.jsx)(n.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsx)(n.h3,{id:"parseskillmdcontent",children:(0,s.jsx)(n.code,{children:"parseSkillMd(content)"})}),"\n",(0,s.jsx)(n.p,{children:"Parses a SKILL.md string into its structured components."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function parseSkillMd(content: string): ParsedSkillMd\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"content"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"The raw SKILL.md file content"})]})})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," ",(0,s.jsx)(n.code,{children:"ParsedSkillMd"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"interface ParsedSkillMd {\n  frontmatter: SkillMdFrontmatter;  // Standard YAML fields\n  kp?: SkillMdKpExtension;          // KnowledgePulse extension (if present)\n  body: string;                      // Markdown content after frontmatter\n  raw: string;                       // Original input string\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Throws:"})," ",(0,s.jsx)(n.code,{children:"ValidationError"})," if the frontmatter is missing, the YAML is malformed, or required fields are absent."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { parseSkillMd } from "@knowledgepulse/sdk";\n\nconst content = `---\nname: code-reviewer\ndescription: Reviews pull requests for code quality issues\nversion: "1.0.0"\nauthor: acme-corp\ntags:\n  - code-review\n  - quality\nallowed-tools:\n  - github_pr_read\n  - github_pr_comment\nkp:\n  knowledge_capture: true\n  domain: code-review\n  quality_threshold: 0.8\n  privacy_level: aggregated\n  visibility: network\n  reward_eligible: true\n---\n\n## Instructions\n\nYou are a code review assistant. Analyze the given pull request\nand provide actionable feedback on code quality, security, and\nbest practices.\n`;\n\nconst parsed = parseSkillMd(content);\n\nconsole.log(parsed.frontmatter.name);       // "code-reviewer"\nconsole.log(parsed.frontmatter.tags);        // ["code-review", "quality"]\nconsole.log(parsed.kp?.knowledge_capture);   // true\nconsole.log(parsed.kp?.quality_threshold);   // 0.8\nconsole.log(parsed.body);                    // "\\n## Instructions\\n\\nYou are a ..."\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"generateskillmdfrontmatter-body-kp",children:(0,s.jsx)(n.code,{children:"generateSkillMd(frontmatter, body, kp?)"})}),"\n",(0,s.jsx)(n.p,{children:"Generates a SKILL.md string from structured components."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function generateSkillMd(\n  frontmatter: SkillMdFrontmatter,\n  body: string,\n  kp?: SkillMdKpExtension,\n): string\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"frontmatter"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SkillMdFrontmatter"})}),(0,s.jsx)(n.td,{children:"Standard YAML frontmatter fields"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"body"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Markdown body content"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"kp"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"SkillMdKpExtension"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"(optional)"})," KnowledgePulse extension fields"]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," A complete SKILL.md string with YAML frontmatter delimiters (",(0,s.jsx)(n.code,{children:"---"}),")."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { generateSkillMd } from "@knowledgepulse/sdk";\n\nconst skillMd = generateSkillMd(\n  {\n    name: "data-analyst",\n    description: "Analyzes datasets and produces insights",\n    version: "0.2.0",\n    tags: ["analytics", "data"],\n    "allowed-tools": ["sql_query", "chart_render"],\n  },\n  "## Instructions\\n\\nAnalyze the provided dataset and generate a summary report.",\n  {\n    knowledge_capture: true,\n    domain: "data-analysis",\n    quality_threshold: 0.7,\n    visibility: "org",\n  },\n);\n\nconsole.log(skillMd);\n// ---\n// name: data-analyst\n// description: Analyzes datasets and produces insights\n// version: "0.2.0"\n// tags:\n//   - analytics\n//   - data\n// allowed-tools:\n//   - sql_query\n//   - chart_render\n// kp:\n//   knowledge_capture: true\n//   domain: data-analysis\n//   quality_threshold: 0.7\n//   visibility: org\n// ---\n//\n// ## Instructions\n//\n// Analyze the provided dataset and generate a summary report.\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"validateskillmdcontent",children:(0,s.jsx)(n.code,{children:"validateSkillMd(content)"})}),"\n",(0,s.jsx)(n.p,{children:"Validates a SKILL.md string without throwing. Runs both sanitization and schema validation, collecting all errors."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function validateSkillMd(content: string): {\n  valid: boolean;\n  errors: string[];\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"content"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"The raw SKILL.md file content"})]})})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Returns:"})," An object with ",(0,s.jsx)(n.code,{children:"valid"})," (boolean) and ",(0,s.jsx)(n.code,{children:"errors"})," (array of human-readable strings). When ",(0,s.jsx)(n.code,{children:"valid"})," is ",(0,s.jsx)(n.code,{children:"true"}),", the ",(0,s.jsx)(n.code,{children:"errors"}),' array may still contain non-fatal warnings (e.g., "Warning: Removed HTML comments").']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { validateSkillMd } from "@knowledgepulse/sdk";\n\n// Valid document\nconst good = validateSkillMd(`---\nname: my-skill\ndescription: A helpful skill\n---\n\nInstructions here.\n`);\nconsole.log(good.valid);   // true\nconsole.log(good.errors);  // []\n\n// Invalid document (missing required fields)\nconst bad = validateSkillMd(`---\nname: my-skill\n---\n\nNo description field.\n`);\nconsole.log(bad.valid);    // false\nconsole.log(bad.errors);\n// [\n//   "Invalid SKILL.md frontmatter",\n//   "  description: Required"\n// ]\n'})}),"\n",(0,s.jsx)(n.h2,{id:"skillmd-format",children:"SKILL.md Format"}),"\n",(0,s.jsxs)(n.p,{children:["A SKILL.md file consists of two sections separated by YAML frontmatter delimiters (",(0,s.jsx)(n.code,{children:"---"}),"):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"---\n<YAML frontmatter>\n---\n\n<Markdown body>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"standard-frontmatter-fields",children:"Standard Frontmatter Fields"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Required"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Unique skill identifier"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"description"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Yes"}),(0,s.jsx)(n.td,{children:"Human-readable description"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"version"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Semantic version"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"author"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Author or organization"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"license"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"SPDX license identifier"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tags"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string[]"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"Searchable tags"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"allowed-tools"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string[]"})}),(0,s.jsx)(n.td,{children:"No"}),(0,s.jsx)(n.td,{children:"MCP tools this skill may invoke"})]})]})]}),"\n",(0,s.jsxs)(n.h3,{id:"knowledgepulse-extension-kp",children:["KnowledgePulse Extension (",(0,s.jsx)(n.code,{children:"kp:"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"kp:"})," block is an optional nested object within the frontmatter. It configures how the KnowledgePulse protocol interacts with this skill."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"knowledge_capture"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Enable automatic knowledge capture for this skill"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"domain"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Task domain used for knowledge classification"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"quality_threshold"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Minimum quality score (0.0-1.0) for captured knowledge to be contributed"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"privacy_level"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PrivacyLevel"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Privacy level for captured knowledge"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"visibility"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Visibility"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Visibility scope for captured knowledge"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"reward_eligible"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"--"}),(0,s.jsx)(n.td,{children:"Whether contributions from this skill are eligible for token rewards"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"backward-compatibility",children:"Backward Compatibility"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"kp:"})," extension is designed to be fully backward-compatible:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Tools that do not understand the ",(0,s.jsx)(n.code,{children:"kp:"})," key will simply ignore it during YAML parsing."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"kp:"})," fields are all optional; a SKILL.md file works without them."]}),"\n",(0,s.jsxs)(n.li,{children:["Standard fields (",(0,s.jsx)(n.code,{children:"name"}),", ",(0,s.jsx)(n.code,{children:"description"}),", ",(0,s.jsx)(n.code,{children:"tags"}),", etc.) remain unchanged."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This means you can add KnowledgePulse configuration to any existing SKILL.md file without breaking tools that consume the standard format."}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"parseSkillMd"})," encounters invalid input, it throws a ",(0,s.jsx)(n.code,{children:"ValidationError"})," with a structured ",(0,s.jsx)(n.code,{children:"issues"})," array:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { parseSkillMd, ValidationError } from "@knowledgepulse/sdk";\n\ntry {\n  parseSkillMd(invalidContent);\n} catch (err) {\n  if (err instanceof ValidationError) {\n    console.error(err.message);\n    // "Invalid SKILL.md frontmatter"\n\n    for (const issue of err.issues) {\n      console.error(`  ${issue.path}: ${issue.message}`);\n      // "description: Required"\n      // "kp.quality_threshold: Number must be less than or equal to 1"\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Each entry in the ",(0,s.jsx)(n.code,{children:"issues"})," array contains:"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"path"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsxs)(n.td,{children:["Dot-delimited path to the invalid field (e.g., ",(0,s.jsx)(n.code,{children:'"kp.quality_threshold"'}),")"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"message"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Human-readable description of the validation failure"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.code,{children:"kp:"})," extension errors, paths are prefixed with ",(0,s.jsx)(n.code,{children:"kp."})," to distinguish them from standard frontmatter errors."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,d){d.d(n,{R:()=>t,x:()=>l});var r=d(6540);const s={},i=r.createContext(s);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);