"use strict";(globalThis.webpackChunkknowledgepulse_docs=globalThis.webpackChunkknowledgepulse_docs||[]).push([[868],{6368(e,s,n){n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"mcp-server/setup","title":"MCP \u670d\u52a1\u5668\u8bbe\u7f6e","description":"\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u8fd0\u884c KnowledgePulse MCP \u670d\u52a1\u5668\u7684\u72ec\u7acb\u6a21\u5f0f\u6216\u4ee3\u7406\u6a21\u5f0f\u3002","source":"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/current/mcp-server/setup.md","sourceDirName":"mcp-server","slug":"/mcp-server/setup","permalink":"/zh-Hans/docs/mcp-server/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/openclaw/knowledgepulse/tree/main/website/docs/mcp-server/setup.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"MCP \u670d\u52a1\u5668\u8bbe\u7f6e","description":"\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u8fd0\u884c KnowledgePulse MCP \u670d\u52a1\u5668\u7684\u72ec\u7acb\u6a21\u5f0f\u6216\u4ee3\u7406\u6a21\u5f0f\u3002"},"sidebar":"docsSidebar","previous":{"title":"\u901f\u7387\u9650\u5236","permalink":"/zh-Hans/docs/registry/rate-limiting"},"next":{"title":"MCP \u5de5\u5177\u53c2\u8003","permalink":"/zh-Hans/docs/mcp-server/tools"}}');var d=n(4848),l=n(8453);const c={sidebar_position:1,title:"MCP \u670d\u52a1\u5668\u8bbe\u7f6e",description:"\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u8fd0\u884c KnowledgePulse MCP \u670d\u52a1\u5668\u7684\u72ec\u7acb\u6a21\u5f0f\u6216\u4ee3\u7406\u6a21\u5f0f\u3002"},t="MCP \u670d\u52a1\u5668\u8bbe\u7f6e",i={},h=[{value:"\u4f20\u8f93\u534f\u8bae",id:"\u4f20\u8f93\u534f\u8bae",level:2},{value:"\u53cc\u6a21\u5f0f\u8fd0\u884c",id:"\u53cc\u6a21\u5f0f\u8fd0\u884c",level:2},{value:"\u72ec\u7acb\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09",id:"\u72ec\u7acb\u6a21\u5f0f\u9ed8\u8ba4",level:3},{value:"\u4ee3\u7406\u6a21\u5f0f",id:"\u4ee3\u7406\u6a21\u5f0f",level:3},{value:"\u73af\u5883\u53d8\u91cf",id:"\u73af\u5883\u53d8\u91cf",level:2},{value:"\u4e0e AI \u6846\u67b6\u96c6\u6210",id:"\u4e0e-ai-\u6846\u67b6\u96c6\u6210",level:2}];function o(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"mcp-\u670d\u52a1\u5668\u8bbe\u7f6e",children:"MCP \u670d\u52a1\u5668\u8bbe\u7f6e"})}),"\n",(0,d.jsxs)(s.p,{children:["KnowledgePulse MCP \u670d\u52a1\u5668\uff08",(0,d.jsx)(s.code,{children:"@knowledgepulse/mcp"})," v1.1.0\uff09\u5c06 KnowledgePulse \u534f\u8bae\u66b4\u9732\u4e3a\u4e00\u7ec4 ",(0,d.jsx)(s.a,{href:"https://modelcontextprotocol.io/",children:"Model Context Protocol"})," \u5de5\u5177\uff0c\u4efb\u4f55\u517c\u5bb9 MCP \u7684 AI \u5ba2\u6237\u7aef\u5747\u53ef\u8c03\u7528\u3002"]}),"\n",(0,d.jsx)(s.h2,{id:"\u4f20\u8f93\u534f\u8bae",children:"\u4f20\u8f93\u534f\u8bae"}),"\n",(0,d.jsxs)(s.p,{children:["\u670d\u52a1\u5668\u4f7f\u7528 ",(0,d.jsx)(s.strong,{children:"Streamable HTTP"})," \u4f20\u8f93\u534f\u8bae\uff1a"]}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"\u7aef\u70b9"}),(0,d.jsx)(s.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(s.th,{children:"\u63cf\u8ff0"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"/mcp"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"POST"})}),(0,d.jsx)(s.td,{children:"MCP \u5de5\u5177\u8c03\u7528\uff08Streamable HTTP\uff09"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"/health"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"GET"})}),(0,d.jsx)(s.td,{children:"\u5065\u5eb7\u68c0\u67e5"})]})]})]}),"\n",(0,d.jsx)(s.p,{children:"\u6210\u529f\u7684\u5065\u5eb7\u68c0\u67e5\u8fd4\u56de\uff1a"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-json",children:'{\n  "status": "ok",\n  "name": "knowledgepulse-mcp",\n  "version": "1.1.0"\n}\n'})}),"\n",(0,d.jsx)(s.h2,{id:"\u53cc\u6a21\u5f0f\u8fd0\u884c",children:"\u53cc\u6a21\u5f0f\u8fd0\u884c"}),"\n",(0,d.jsxs)(s.p,{children:["MCP \u670d\u52a1\u5668\u53ef\u4ee5\u6839\u636e\u662f\u5426\u8bbe\u7f6e\u4e86 ",(0,d.jsx)(s.code,{children:"KP_REGISTRY_URL"})," \u73af\u5883\u53d8\u91cf\u5728\u4e24\u79cd\u6a21\u5f0f\u4e0b\u8fd0\u884c\u3002"]}),"\n",(0,d.jsx)(s.h3,{id:"\u72ec\u7acb\u6a21\u5f0f\u9ed8\u8ba4",children:"\u72ec\u7acb\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09"}),"\n",(0,d.jsx)(s.p,{children:"\u5728\u72ec\u7acb\u6a21\u5f0f\u4e0b\uff0c\u670d\u52a1\u5668\u4f7f\u7528\u81ea\u5df1\u7684\u5185\u5b58\u5b58\u50a8\u3002\u8fd9\u662f\u6700\u7b80\u5355\u7684\u542f\u52a8\u65b9\u5f0f\uff0c\u975e\u5e38\u9002\u5408\u672c\u5730\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"bun run packages/mcp-server/src/index.ts\n"})}),"\n",(0,d.jsx)(s.p,{children:"\u670d\u52a1\u5668\u9ed8\u8ba4\u5728\u7aef\u53e3 3001 \u4e0a\u542f\u52a8\u3002\u65e0\u9700\u5916\u90e8\u670d\u52a1\u3002"}),"\n",(0,d.jsx)(s.h3,{id:"\u4ee3\u7406\u6a21\u5f0f",children:"\u4ee3\u7406\u6a21\u5f0f"}),"\n",(0,d.jsxs)(s.p,{children:["\u5728\u4ee3\u7406\u6a21\u5f0f\u4e0b\uff0c\u670d\u52a1\u5668\u5c06\u6240\u6709\u8bf7\u6c42\u8f6c\u53d1\u5230\u6b63\u5728\u8fd0\u884c\u7684 KnowledgePulse Registry \u5b9e\u4f8b\u3002\u8bbe\u7f6e ",(0,d.jsx)(s.code,{children:"KP_REGISTRY_URL"})," \u4ee5\u542f\u7528\u4ee3\u7406\u6a21\u5f0f\uff0c\u5e76\u53ef\u9009\u62e9\u63d0\u4f9b ",(0,d.jsx)(s.code,{children:"KP_API_KEY"})," \u7528\u4e8e\u9700\u8981\u8ba4\u8bc1\u7684\u7aef\u70b9\u3002"]}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-bash",children:"KP_REGISTRY_URL=http://localhost:8080 KP_API_KEY=kp_abc123 \\\n  bun run packages/mcp-server/src/index.ts\n"})}),"\n",(0,d.jsx)(s.p,{children:"\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cMCP \u670d\u52a1\u5668\u5145\u5f53\u4e00\u4e2a\u8f7b\u91cf\u6865\u63a5\u5c42\uff1a\u5b83\u5c06 MCP \u5de5\u5177\u8c03\u7528\u8f6c\u6362\u4e3a Registry REST API \u8bf7\u6c42\uff0c\u5e76\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef\u3002"}),"\n",(0,d.jsx)(s.h2,{id:"\u73af\u5883\u53d8\u91cf",children:"\u73af\u5883\u53d8\u91cf"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"\u53d8\u91cf"}),(0,d.jsx)(s.th,{children:"\u63cf\u8ff0"}),(0,d.jsx)(s.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"KP_MCP_PORT"})}),(0,d.jsx)(s.td,{children:"MCP \u670d\u52a1\u5668\u76d1\u542c\u7684\u7aef\u53e3"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"3001"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"KP_REGISTRY_URL"})}),(0,d.jsx)(s.td,{children:"\u4ee3\u7406\u6a21\u5f0f\u4e0b\u7684 Registry URL\u3002\u672a\u8bbe\u7f6e\u65f6\u670d\u52a1\u5668\u4ee5\u72ec\u7acb\u6a21\u5f0f\u8fd0\u884c\u3002"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.em,{children:"\uff08\u672a\u8bbe\u7f6e\uff09"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"KP_API_KEY"})}),(0,d.jsx)(s.td,{children:"\u4ee3\u7406\u6a21\u5f0f\u4e0b\u53d1\u9001\u5230 Registry \u7684\u8ba4\u8bc1\u8bf7\u6c42\u6240\u4f7f\u7528\u7684 API \u5bc6\u94a5\u3002"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.em,{children:"\uff08\u672a\u8bbe\u7f6e\uff09"})})]})]})]}),"\n",(0,d.jsx)(s.h2,{id:"\u4e0e-ai-\u6846\u67b6\u96c6\u6210",children:"\u4e0e AI \u6846\u67b6\u96c6\u6210"}),"\n",(0,d.jsx)(s.p,{children:"MCP \u670d\u52a1\u5668\u901a\u8fc7 Streamable HTTP \u4f20\u8f93\u534f\u8bae\u4e0e\u4efb\u4f55\u517c\u5bb9 MCP \u7684\u5ba2\u6237\u7aef\u914d\u5408\u4f7f\u7528\u3002\u793a\u4f8b\u5305\u62ec\uff1a"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Claude Desktop"})," -- \u5c06\u670d\u52a1\u5668 URL \u6dfb\u52a0\u5230\u60a8\u7684 MCP \u914d\u7f6e\u4e2d\u3002"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"LangGraph"})," -- \u4f7f\u7528 MCP \u5de5\u5177\u9002\u914d\u5668\u8fde\u63a5\u5230\u670d\u52a1\u5668\u3002"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"CrewAI"})," -- \u5c06\u670d\u52a1\u5668\u6ce8\u518c\u4e3a MCP \u5de5\u5177\u63d0\u4f9b\u8005\u3002"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"AutoGen"})," -- \u901a\u8fc7 MCP \u5ba2\u6237\u7aef SDK \u5c06\u4ee3\u7406\u8fde\u63a5\u5230\u670d\u52a1\u5668\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(s.p,{children:["\u5c06\u60a8\u7684\u5ba2\u6237\u7aef\u6307\u5411 ",(0,d.jsx)(s.code,{children:"http://localhost:3001/mcp"}),"\uff08\u6216\u60a8\u914d\u7f6e\u7684\u4e3b\u673a\u548c\u7aef\u53e3\uff09\uff0c\u5373\u53ef\u4f7f\u7528\u516d\u4e2a KnowledgePulse \u5de5\u5177\u4f9b\u60a8\u7684\u4ee3\u7406\u8c03\u7528\u3002\u5b8c\u6574\u53c2\u8003\u8bf7\u53c2\u89c1 ",(0,d.jsx)(s.a,{href:"/zh-Hans/docs/mcp-server/tools",children:"MCP \u5de5\u5177"}),"\u3002"]})]})}function a(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453(e,s,n){n.d(s,{R:()=>c,x:()=>t});var r=n(6540);const d={},l=r.createContext(d);function c(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);